<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مولد كلمات مرور عشوائي | Random Password Generator</title>
    <style>
        body {
            font-family: "Cairo", "Segoe UI", "Courier New", Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #e0e7ff 0%, #f0f0f0 100%);
            margin: 0;
        }
        .container {
            background: #fff;
            padding: 40px 30px 30px 30px;
            border-radius: 18px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.13);
            text-align: center;
            max-width: 420px;
            width: 100%;
            position: relative;
        }
        .lang-switch {
            position: absolute;
            top: 18px;
            left: 18px;
            background: #f3f4f6;
            border: none;
            border-radius: 6px;
            padding: 6px 14px;
            font-weight: bold;
            cursor: pointer;
            color: #007bff;
            transition: background 0.2s;
        }
        .lang-switch:hover {
            background: #e0e7ff;
        }
        h2 {
            margin-bottom: 18px;
            color: #2d3748;
        }
        .checkbox-group {
            display: flex;
            justify-content: space-between;
            margin-bottom: 18px;
            gap: 8px;
            flex-wrap: wrap;
        }
        .checkbox-group label {
            display: flex;
            align-items: center;
            background: #f3f4f6;
            border-radius: 6px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 15px;
            gap: 4px;
            transition: background 0.2s;
        }
        .checkbox-group label:hover {
            background: #e0e7ff;
        }
        input[type="range"] {
            width: 100%;
            margin: 10px 0 0 0;
        }
        .password {
            font-size: 22px;
            padding: 12px;
            border: 1px solid #cbd5e1;
            border-radius: 7px;
            margin-bottom: 18px;
            display: inline-block;
            width: 100%;
            box-sizing: border-box;
            background: #f9fafb;
            letter-spacing: 2px;
            user-select: all;
            transition: background 0.2s;
        }
        .password.copied {
            background: #d1fae5;
            border-color: #10b981;
        }
        button, .btn {
            padding: 10px 22px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
            margin-right: 6px;
            font-size: 16px;
            transition: background 0.2s;
        }
        button:hover, .btn:hover {
            background-color: #0056b3;
        }
        .about, .home {
            display: none;
        }
        .strength-bar {
            height: 8px;
            border-radius: 5px;
            margin: 8px 0 16px 0;
            background: #e5e7eb;
            overflow: hidden;
        }
        .strength-bar-inner {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #f87171, #fbbf24, #34d399, #2563eb);
            transition: width 0.4s;
        }
        .options-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 6px 0;
            position: absolute;
            z-index: 1;
            bottom: 125%; 
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 2px;
            font-size: 18px;
            color: #007bff;
            vertical-align: middle;
        }
        .icon-btn:hover {
            color: #0056b3;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <button class="lang-switch" id="langBtn" onclick="toggleLang()">ENGLISH</button>
        <div id="home" class="home">
            <h2 id="title">مولد كلمات مرور عشوائية</h2>
            <div class="checkbox-group" id="checkboxGroup">
                <label><input type="checkbox" id="uppercase" checked> ABC</label>
                <label><input type="checkbox" id="lowercase" checked> abc</label>
                <label><input type="checkbox" id="numbers" checked> 123</label>
                <label><input type="checkbox" id="symbols" checked> !@#$%&*</label>
            </div>
            <div class="options-row">
                <span id="lengthLabel">طول كلمة المرور :</span>
                <span id="lengthValue">12</span>
            </div>
            <input type="range" id="lengthSlider" min="4" max="25" value="12">
            <div class="strength-bar"><div class="strength-bar-inner" id="strengthBar"></div></div>
            <div class="password" id="passwordDisplay">ستظهر كلمة المرور الخاصة بك هنا</div>
            <div>
                <button onclick="generatePassword()" id="generateBtn">إنشاء كلمة المرور</button>
                <span class="tooltip">
                    <button class="icon-btn" onclick="copyPassword()" id="copyBtn" title="نسخ"><span id="copyIcon">📋</span></button>
                    <span class="tooltiptext" id="copyTooltip">نسخ كلمة المرور</span>
                </span>
                <button onclick="showSection('about')" id="aboutBtn">حول المطور</button>
            </div>
            <div style="margin-top: 18px;">
                <button class="btn" onclick="savePassword()" id="saveBtn">حفظ كلمة المرور</button>
                <button class="btn" onclick="generatePronounceable()" id="pronounceBtn">كلمة مرور سهلة النطق</button>
            </div>
        </div>
        <div id="about" class="about">
            <h2 id="aboutTitle">نبذة عني و حول البرنامج</h2>
            <p id="about1">مرحباً بكم في برنامجي</p>
            <p id="about2">الهدف هو إنشاء كلمات مرور عشوائية</p>
            <p id="about3">والتي من الصعب اختراقها لأنها تتكون من</p>
            <p id="about4">كلمات كبيرة وصغيرة وأرقام ورموز نصية</p>
            <p id="about5">مع تحياتي المطور : محمد الباقر</p>
            <button onclick="showSection('home')" id="backBtn">رجوع</button>
        </div>
    </div>
    <script>
        // Language data
        const translations = {
            ar: {
                langBtn: "ENGLISH",
                title: "مولد كلمات مرور عشوائية",
                lengthLabel: "طول كلمة المرور :",
                passwordPlaceholder: "ستظهر كلمة المرور الخاصة بك هنا",
                generateBtn: "إنشاء كلمة المرور",
                copyTooltip: "نسخ كلمة المرور",
                aboutBtn: "حول المطور",
                saveBtn: "حفظ كلمة المرور",
                pronounceBtn: "كلمة مرور سهلة النطق",
                aboutTitle: "نبذة عني و حول البرنامج",
                about1: "مرحباً بكم في برنامجي",
                about2: "الهدف هو إنشاء كلمات مرور عشوائية",
                about3: "والتي من الصعب اختراقها لأنها تتكون من",
                about4: "كلمات كبيرة وصغيرة وأرقام ورموز نصية",
                about5: "مع تحياتي المطور : محمد الباقر",
                backBtn: "رجوع",
                copyIcon: "📋",
                copySuccess: "تم النسخ!",
                saveSuccess: "تم حفظ كلمة المرور!",
                saveBtn: "حفظ كلمة المرور",
                pronounceBtn: "كلمة مرور سهلة النطق",
                checkboxLabels: ["ABC", "abc", "123", "!@#$%&*"]
            },
            en: {
                langBtn: "العربية",
                title: "Random Password Generator",
                lengthLabel: "Password Length:",
                passwordPlaceholder: "Your password will appear here",
                generateBtn: "Generate Password",
                copyTooltip: "Copy password",
                aboutBtn: "About Developer",
                saveBtn: "Save Password",
                pronounceBtn: "Pronounceable Password",
                aboutTitle: "About Me & The Program",
                about1: "Welcome to my program",
                about2: "The goal is to generate random passwords",
                about3: "which are hard to hack because they contain",
                about4: "uppercase, lowercase, numbers, and symbols",
                about5: "Best regards, Developer: Mohammed Al-Baqer",
                backBtn: "Back",
                copyIcon: "📋",
                copySuccess: "Copied!",
                saveSuccess: "Password saved!",
                saveBtn: "Save Password",
                pronounceBtn: "Pronounceable Password",
                checkboxLabels: ["ABC", "abc", "123", "!@#$%&*"]
            }
        };

        let currentLang = "ar";

        // Elements
        const lengthSlider = document.getElementById('lengthSlider');
        const lengthValue = document.getElementById('lengthValue');
        const passwordDisplay = document.getElementById('passwordDisplay');
        const strengthBar = document.getElementById('strengthBar');
        const langBtn = document.getElementById('langBtn');
        const copyTooltip = document.getElementById('copyTooltip');
        const copyIcon = document.getElementById('copyIcon');
        const checkboxGroup = document.getElementById('checkboxGroup');

        // Update slider value
        lengthSlider.addEventListener('input', () => {
            lengthValue.textContent = lengthSlider.value;
            updateStrengthBar();
        });

        // Password generation logic
        const uppercase = 'QWERTYUIOPASDFGHJKLZXCVBNM';
        const lowercase = 'qwertyuiopasdfghjklzxcvbnm';
        const numbers = '1234567890';
        const symbols = '!@#$%^&*';

        function getCharset() {
            let charset = '';
            if (document.getElementById('uppercase').checked) charset += uppercase;
            if (document.getElementById('lowercase').checked) charset += lowercase;
            if (document.getElementById('numbers').checked) charset += numbers;
            if (document.getElementById('symbols').checked) charset += symbols;
            return charset;
        }

        function generatePassword() {
            let charset = getCharset();
            let length = parseInt(lengthSlider.value);
            if (!charset) {
                passwordDisplay.textContent = currentLang === "ar" ? "يرجى اختيار نوع الأحرف" : "Please select at least one character type";
                passwordDisplay.classList.remove("copied");
                return;
            }
            let password = '';
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charset.length);
                password += charset[randomIndex];
            }
            passwordDisplay.textContent = password;
            passwordDisplay.classList.remove("copied");
            updateStrengthBar();
        }

        // Pronounceable password
        function generatePronounceable() {
            let length = parseInt(lengthSlider.value);
            let consonants = "bcdfghjklmnpqrstvwxyz";
            let vowels = "aeiou";
            let password = "";
            let useUpper = document.getElementById('uppercase').checked;
            let useLower = document.getElementById('lowercase').checked;
            let useNumbers = document.getElementById('numbers').checked;
            let useSymbols = document.getElementById('symbols').checked;
            for (let i = 0; i < length; i += 2) {
                let c = consonants[Math.floor(Math.random() * consonants.length)];
                let v = vowels[Math.floor(Math.random() * vowels.length)];
                if (useUpper && Math.random() > 0.5) c = c.toUpperCase();
                if (useLower && Math.random() > 0.5) v = v.toLowerCase();
                password += c + v;
            }
            password = password.slice(0, length);
            // Optionally add numbers/symbols
            if (useNumbers || useSymbols) {
                let extra = "";
                if (useNumbers) extra += numbers;
                if (useSymbols) extra += symbols;
                for (let i = 0; i < Math.floor(length / 4); i++) {
                    let pos = Math.floor(Math.random() * password.length);
                    password = password.substring(0, pos) + extra[Math.floor(Math.random() * extra.length)] + password.substring(pos + 1);
                }
            }
            passwordDisplay.textContent = password;
            passwordDisplay.classList.remove("copied");
            updateStrengthBar();
        }

        // Password strength
        function updateStrengthBar() {
            let length = parseInt(lengthSlider.value);
            let types = 0;
            if (document.getElementById('uppercase').checked) types++;
            if (document.getElementById('lowercase').checked) types++;
            if (document.getElementById('numbers').checked) types++;
            if (document.getElementById('symbols').checked) types++;
            let score = (length / 25) * 0.5 + (types / 4) * 0.5;
            let percent = Math.min(1, score) * 100;
            strengthBar.style.width = percent + "%";
            if (percent < 40) strengthBar.style.background = "#f87171";
            else if (percent < 70) strengthBar.style.background = "#fbbf24";
            else if (percent < 90) strengthBar.style.background = "#34d399";
            else strengthBar.style.background = "#2563eb";
        }

        // Copy password
        function copyPassword() {
            let pwd = passwordDisplay.textContent;
            if (!pwd || pwd === translations[currentLang].passwordPlaceholder) return;
            navigator.clipboard.writeText(pwd).then(() => {
                passwordDisplay.classList.add("copied");
                copyTooltip.textContent = translations[currentLang].copySuccess;
                copyIcon.textContent = "✅";
                setTimeout(() => {
                    passwordDisplay.classList.remove("copied");
                    copyTooltip.textContent = translations[currentLang].copyTooltip;
                    copyIcon.textContent = translations[currentLang].copyIcon;
                }, 1200);
            });
        }

        // Save password (download as txt)
        function savePassword() {
            let pwd = passwordDisplay.textContent;
            if (!pwd || pwd === translations[currentLang].passwordPlaceholder) return;
            let blob = new Blob([pwd], {type: "text/plain"});
            let a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "password.txt";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            passwordDisplay.classList.add("copied");
            setTimeout(() => passwordDisplay.classList.remove("copied"), 1000);
        }

        // Section switching
        function showSection(section) {
            document.getElementById('home').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById(section).style.display = 'block';
        }

        // Language toggle
        function toggleLang() {
            currentLang = currentLang === "ar" ? "en" : "ar";
            applyLang();
        }

        function applyLang() {
            let t = translations[currentLang];
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === "ar" ? "rtl" : "ltr";
            langBtn.textContent = t.langBtn;
            document.getElementById('title').textContent = t.title;
            document.getElementById('lengthLabel').textContent = t.lengthLabel;
            document.getElementById('generateBtn').textContent = t.generateBtn;
            document.getElementById('aboutBtn').textContent = t.aboutBtn;
            document.getElementById('saveBtn').textContent = t.saveBtn;
            document.getElementById('pronounceBtn').textContent = t.pronounceBtn;
            document.getElementById('aboutTitle').textContent = t.aboutTitle;
            document.getElementById('about1').textContent = t.about1;
            document.getElementById('about2').textContent = t.about2;
            document.getElementById('about3').textContent = t.about3;
            document.getElementById('about4').textContent = t.about4;
            document.getElementById('about5').textContent = t.about5;
            document.getElementById('backBtn').textContent = t.backBtn;
            copyTooltip.textContent = t.copyTooltip;
            copyIcon.textContent = t.copyIcon;
            // Checkbox labels
            let labels = checkboxGroup.querySelectorAll("label");
            t.checkboxLabels.forEach((lbl, i) => {
                labels[i].childNodes[1].textContent = " " + lbl;
            });
            // Password placeholder
            if (!passwordDisplay.textContent || passwordDisplay.textContent === translations[currentLang === "ar" ? "en" : "ar"].passwordPlaceholder) {
                passwordDisplay.textContent = t.passwordPlaceholder;
            }
        }

        // Initial setup
        showSection('home');
        applyLang();
        updateStrengthBar();

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'g') {
                generatePassword();
            }
            if (e.ctrlKey && e.key === 'c') {
                copyPassword();
            }
        });
    </script>
</body>
</html>